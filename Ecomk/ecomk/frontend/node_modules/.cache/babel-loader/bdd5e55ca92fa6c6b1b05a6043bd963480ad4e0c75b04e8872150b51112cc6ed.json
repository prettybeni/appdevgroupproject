{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"app\"\n};\nconst _hoisted_2 = {\n  class: \"navbar\"\n};\nconst _hoisted_3 = {\n  class: \"active\"\n};\nconst _hoisted_4 = [\"href\"];\nconst _hoisted_5 = [\"href\"];\nconst _hoisted_6 = [\"href\"];\nconst _hoisted_7 = [\"href\"];\nconst _hoisted_8 = {\n  class: \"nav-icons\"\n};\nconst _hoisted_9 = [\"href\"];\nconst _hoisted_10 = [\"href\"];\nconst _hoisted_11 = [\"href\"];\nconst _hoisted_12 = {\n  class: \"home\"\n};\nconst _hoisted_13 = [\"onclick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Navbar \"), _createElementVNode(\"nav\", _hoisted_2, [_createElementVNode(\"ul\", null, [_createElementVNode(\"li\", _hoisted_3, [_createElementVNode(\"a\", {\n    href: `/home?token=${$data.token}`\n  }, \"Home\", 8 /* PROPS */, _hoisted_4)]), _createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n    href: `/menu?token=${$data.token}`\n  }, \"Menu\", 8 /* PROPS */, _hoisted_5)]), _createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n    href: `/about-us?token=${$data.token}`\n  }, \"About Us\", 8 /* PROPS */, _hoisted_6)]), _createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n    href: `/contact?token=${$data.token}`\n  }, \"Contact\", 8 /* PROPS */, _hoisted_7)])]), _createCommentVNode(\" Cart Icon and Logout Button \"), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"a\", {\n    href: `/cart?token=${$data.token}`,\n    class: \"cart-icon\"\n  }, [_cache[0] || (_cache[0] = _createElementVNode(\"i\", {\n    class: \"fas fa-shopping-cart\"\n  }, null, -1 /* HOISTED */)), _createCommentVNode(\" FontAwesome cart icon \")], 8 /* PROPS */, _hoisted_9), _createCommentVNode(\" Display username here \"), _createElementVNode(\"a\", {\n    href: `/user-profile?token=${$data.token}`\n  }, _toDisplayString($data.username), 9 /* TEXT, PROPS */, _hoisted_10), _createElementVNode(\"a\", {\n    href: `/?token=${$data.token}`,\n    class: \"logout\"\n  }, \"Logout\", 8 /* PROPS */, _hoisted_11)])]), _createCommentVNode(\" Home Section \"), _createElementVNode(\"section\", _hoisted_12, [_cache[1] || (_cache[1] = _createElementVNode(\"h1\", null, \"Welcome to Tea Haven\", -1 /* HOISTED */)), _cache[2] || (_cache[2] = _createElementVNode(\"p\", null, \"Your favorite milk tea, delivered to your doorstep!\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    class: \"shop-now\",\n    onclick: `window.location.href='/menu?token=${$data.token}'`\n  }, \"Shop Now\", 8 /* PROPS */, _hoisted_13)])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","href","$data","token","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","username","_hoisted_10","_hoisted_11","_hoisted_12","onclick","_hoisted_13"],"sources":["C:\\Users\\norma\\project\\ecomk\\frontend\\src\\views\\Home.vue"],"sourcesContent":["<template>\r\n  <div class=\"app\">\r\n    <!-- Navbar -->\r\n    <nav class=\"navbar\">\r\n      <ul>\r\n        <li class=\"active\">\r\n          <a :href=\"`/home?token=${token}`\">Home</a>\r\n        </li>\r\n        <li>\r\n          <a :href=\"`/menu?token=${token}`\">Menu</a>\r\n        </li>\r\n        <li>\r\n          <a :href=\"`/about-us?token=${token}`\">About Us</a>\r\n        </li>\r\n        <li>\r\n          <a :href=\"`/contact?token=${token}`\">Contact</a>\r\n        </li>\r\n      </ul>\r\n      <!-- Cart Icon and Logout Button -->\r\n      <div class=\"nav-icons\">\r\n        <a :href=\"`/cart?token=${token}`\" class=\"cart-icon\">\r\n          <i class=\"fas fa-shopping-cart\"></i> <!-- FontAwesome cart icon -->\r\n        </a>\r\n        <!-- Display username here -->\r\n        <a :href=\"`/user-profile?token=${token}`\">{{ username }}</a>\r\n        <a :href=\"`/?token=${token}`\" class=\"logout\">Logout</a>\r\n      </div>\r\n    </nav>\r\n\r\n    <!-- Home Section -->\r\n    <section class=\"home\">\r\n      <h1>Welcome to Tea Haven</h1>\r\n      <p>Your favorite milk tea, delivered to your doorstep!</p>\r\n      <button class=\"shop-now\" :onclick=\"`window.location.href='/menu?token=${token}'`\">Shop Now</button>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      sessionStatus: null, // null: checking, true: session active, false: session not active\r\n      username: '', // Store username here\r\n      token: '', // Store token here\r\n    };\r\n  },\r\n  created() {\r\n    this.getTokenFromUrl();\r\n  },\r\n  mounted() {\r\n    if (this.token) {\r\n      this.checkSession(this.token); // Use the token to check the session\r\n    }\r\n  },\r\n  methods: {\r\n    // Extract token from URL\r\n    getTokenFromUrl() {\r\n      const urlParams = new URLSearchParams(window.location.search);\r\n      this.token = urlParams.get('token');\r\n      console.log('Received token:', this.token);\r\n    },\r\n\r\n    // Function to check session using the token\r\n    checkSession(token) {\r\n      if (!token) {\r\n        console.log(\"No token provided\");\r\n        return;\r\n      }\r\n\r\n      axios\r\n        .get('http://localhost:5000/api/dashboard', {\r\n          params: { token: token }, // Send token as a query parameter or as part of the request\r\n          withCredentials: true,\r\n        })\r\n        .then((response) => {\r\n          this.sessionStatus = true;\r\n          this.username = response.data.username; // Set the username from the response\r\n        })\r\n        .catch((error) => {\r\n          console.error('Session not active:', error.response?.data || error);\r\n          this.sessionStatus = false;\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAAK;;EAETA,KAAK,EAAC;AAAQ;;EAEXA,KAAK,EAAC;AAAQ;mBAL1B;mBAAA;mBAAA;mBAAA;;EAmBWA,KAAK,EAAC;AAAW;mBAnB5B;oBAAA;oBAAA;;EA8BaA,KAAK,EAAC;AAAM;oBA9BzB;;uBACEC,mBAAA,CAkCM,OAlCNC,UAkCM,GAjCJC,mBAAA,YAAe,EACfC,mBAAA,CAwBM,OAxBNC,UAwBM,GAvBJD,mBAAA,CAaK,aAZHA,mBAAA,CAEK,MAFLE,UAEK,GADHF,mBAAA,CAA0C;IAAtCG,IAAI,iBAAiBC,KAAA,CAAAC,KAAK;KAAI,MAAI,iBANhDC,UAAA,E,GAQQN,mBAAA,CAEK,aADHA,mBAAA,CAA0C;IAAtCG,IAAI,iBAAiBC,KAAA,CAAAC,KAAK;KAAI,MAAI,iBAThDE,UAAA,E,GAWQP,mBAAA,CAEK,aADHA,mBAAA,CAAkD;IAA9CG,IAAI,qBAAqBC,KAAA,CAAAC,KAAK;KAAI,UAAQ,iBAZxDG,UAAA,E,GAcQR,mBAAA,CAEK,aADHA,mBAAA,CAAgD;IAA5CG,IAAI,oBAAoBC,KAAA,CAAAC,KAAK;KAAI,SAAO,iBAftDI,UAAA,E,KAkBMV,mBAAA,iCAAoC,EACpCC,mBAAA,CAOM,OAPNU,UAOM,GANJV,mBAAA,CAEI;IAFAG,IAAI,iBAAiBC,KAAA,CAAAC,KAAK;IAAIT,KAAK,EAAC;gCACtCI,mBAAA,CAAoC;IAAjCJ,KAAK,EAAC;EAAsB,6BAAMG,mBAAA,2BAA8B,C,iBArB7EY,UAAA,GAuBQZ,mBAAA,2BAA8B,EAC9BC,mBAAA,CAA4D;IAAxDG,IAAI,yBAAyBC,KAAA,CAAAC,KAAK;sBAAOD,KAAA,CAAAQ,QAAQ,wBAxB7DC,WAAA,GAyBQb,mBAAA,CAAuD;IAAnDG,IAAI,aAAaC,KAAA,CAAAC,KAAK;IAAIT,KAAK,EAAC;KAAS,QAAM,iBAzB3DkB,WAAA,E,KA6BIf,mBAAA,kBAAqB,EACrBC,mBAAA,CAIU,WAJVe,WAIU,G,0BAHRf,mBAAA,CAA6B,YAAzB,sBAAoB,sB,0BACxBA,mBAAA,CAA0D,WAAvD,qDAAmD,sBACtDA,mBAAA,CAAmG;IAA3FJ,KAAK,EAAC,UAAU;IAAEoB,OAAO,uCAAuCZ,KAAA,CAAAC,KAAK;KAAK,UAAQ,iBAjChGY,WAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}