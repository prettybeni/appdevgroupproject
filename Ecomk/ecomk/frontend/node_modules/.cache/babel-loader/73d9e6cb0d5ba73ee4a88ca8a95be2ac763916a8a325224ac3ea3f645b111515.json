{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\",\n  style: {\n    \"display\": \"flex\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"content\",\n  style: {\n    \"flex-grow\": \"1\",\n    \"margin-left\": \"260px\"\n  }\n};\nconst _hoisted_3 = {\n  class: \"header\",\n  style: {\n    \"background-color\": \"#e0e0e0\",\n    \"padding\": \"20px\"\n  }\n};\nconst _hoisted_4 = {\n  class: \"ingredient-list\"\n};\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = [\"onClick\"];\nexport function render(_ctx, _cache) {\n  const _component_Sidebar = _resolveComponent(\"Sidebar\");\n  const _component_Modal = _resolveComponent(\"Modal\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_Sidebar), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[10] || (_cache[10] = _createElementVNode(\"h2\", {\n    class: \"title\"\n  }, \"Ingredients\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.showAddIngredientModal = true),\n    class: \"add-btn\"\n  }, \"Add Ingredient\")]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"table\", null, [_cache[11] || (_cache[11] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Ingredient Name\"), _createElementVNode(\"th\", null, \"Stock\"), _createElementVNode(\"th\", null, \"Actions\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.ingredients, ingredient => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: ingredient.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(ingredient.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(ingredient.stock), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      onClick: $event => _ctx.showEditIngredientModal(ingredient)\n    }, \"Edit\", 8 /* PROPS */, _hoisted_5), _createElementVNode(\"button\", {\n      onClick: $event => _ctx.showAddStockModal(ingredient)\n    }, \"Add Stock\", 8 /* PROPS */, _hoisted_6)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])])]), _createCommentVNode(\" Add Ingredient Modal \"), _ctx.showAddIngredientModal ? (_openBlock(), _createBlock(_component_Modal, {\n    key: 0,\n    onClose: _cache[3] || (_cache[3] = $event => _ctx.showAddIngredientModal = false)\n  }, {\n    header: _withCtx(() => _cache[12] || (_cache[12] = [_createElementVNode(\"h3\", null, \"Add Ingredient\", -1 /* HOISTED */)])),\n    body: _withCtx(() => [_createElementVNode(\"form\", {\n      onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => _ctx.addIngredient && _ctx.addIngredient(...args), [\"prevent\"]))\n    }, [_withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.newIngredientName = $event),\n      type: \"text\",\n      placeholder: \"Ingredient Name\",\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.newIngredientName]]), _cache[13] || (_cache[13] = _createElementVNode(\"button\", {\n      type: \"submit\"\n    }, \"Add Ingredient\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */)]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Edit Ingredient Modal \"), _ctx.showEditIngredientModal ? (_openBlock(), _createBlock(_component_Modal, {\n    key: 1,\n    onClose: _cache[6] || (_cache[6] = $event => _ctx.showEditIngredientModal = false)\n  }, {\n    header: _withCtx(() => _cache[14] || (_cache[14] = [_createElementVNode(\"h3\", null, \"Edit Ingredient\", -1 /* HOISTED */)])),\n    body: _withCtx(() => [_createElementVNode(\"form\", {\n      onSubmit: _cache[5] || (_cache[5] = _withModifiers((...args) => _ctx.editIngredient && _ctx.editIngredient(...args), [\"prevent\"]))\n    }, [_withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => _ctx.editedIngredient.name = $event),\n      type: \"text\",\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.editedIngredient.name]]), _cache[15] || (_cache[15] = _createElementVNode(\"button\", {\n      type: \"submit\"\n    }, \"Save\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */)]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Add Stock Modal \"), _ctx.showAddStockModal ? (_openBlock(), _createBlock(_component_Modal, {\n    key: 2,\n    onClose: _cache[9] || (_cache[9] = $event => _ctx.showAddStockModal = false)\n  }, {\n    header: _withCtx(() => _cache[16] || (_cache[16] = [_createElementVNode(\"h3\", null, \"Add Stock\", -1 /* HOISTED */)])),\n    body: _withCtx(() => [_createElementVNode(\"form\", {\n      onSubmit: _cache[8] || (_cache[8] = _withModifiers((...args) => _ctx.addStock && _ctx.addStock(...args), [\"prevent\"]))\n    }, [_withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => _ctx.newStockAmount = $event),\n      type: \"number\",\n      min: \"1\",\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.newStockAmount]]), _cache[17] || (_cache[17] = _createElementVNode(\"button\", {\n      type: \"submit\"\n    }, \"Add Stock\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */)]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","style","_createElementBlock","_createVNode","_component_Sidebar","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","onClick","_cache","$event","_ctx","showAddIngredientModal","_hoisted_4","_Fragment","_renderList","ingredients","ingredient","key","id","_toDisplayString","name","stock","showEditIngredientModal","_hoisted_5","showAddStockModal","_hoisted_6","_createCommentVNode","_createBlock","_component_Modal","onClose","header","_withCtx","body","onSubmit","_withModifiers","args","addIngredient","newIngredientName","type","placeholder","required","_","editIngredient","editedIngredient","addStock","newStockAmount","min"],"sources":["C:\\Users\\norma\\project\\ecomk\\frontend\\src\\views\\manageIngredient.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <Sidebar />\r\n  \r\n      <div class=\"container\" style=\"display: flex;\">\r\n        <div class=\"content\" style=\"flex-grow: 1; margin-left: 260px;\">\r\n          <div class=\"header\" style=\"background-color: #e0e0e0; padding: 20px;\">\r\n            <h2 class=\"title\">Ingredients</h2>\r\n            <button @click=\"showAddIngredientModal = true\" class=\"add-btn\">Add Ingredient</button>\r\n          </div>\r\n  \r\n          <div class=\"ingredient-list\">\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <th>Ingredient Name</th>\r\n                  <th>Stock</th>\r\n                  <th>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"ingredient in ingredients\" :key=\"ingredient.id\">\r\n                  <td>{{ ingredient.name }}</td>\r\n                  <td>{{ ingredient.stock }}</td>\r\n                  <td>\r\n                    <button @click=\"showEditIngredientModal(ingredient)\">Edit</button>\r\n                    <button @click=\"showAddStockModal(ingredient)\">Add Stock</button>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  \r\n      <!-- Add Ingredient Modal -->\r\n      <Modal v-if=\"showAddIngredientModal\" @close=\"showAddIngredientModal = false\">\r\n        <template #header>\r\n          <h3>Add Ingredient</h3>\r\n        </template>\r\n        <template #body>\r\n          <form @submit.prevent=\"addIngredient\">\r\n            <input v-model=\"newIngredientName\" type=\"text\" placeholder=\"Ingredient Name\" required />\r\n            <button type=\"submit\">Add Ingredient</button>\r\n          </form>\r\n        </template>\r\n      </Modal>\r\n  \r\n      <!-- Edit Ingredient Modal -->\r\n      <Modal v-if=\"showEditIngredientModal\" @close=\"showEditIngredientModal = false\">\r\n        <template #header>\r\n          <h3>Edit Ingredient</h3>\r\n        </template>\r\n        <template #body>\r\n          <form @submit.prevent=\"editIngredient\">\r\n            <input v-model=\"editedIngredient.name\" type=\"text\" required />\r\n            <button type=\"submit\">Save</button>\r\n          </form>\r\n        </template>\r\n      </Modal>\r\n  \r\n      <!-- Add Stock Modal -->\r\n      <Modal v-if=\"showAddStockModal\" @close=\"showAddStockModal = false\">\r\n        <template #header>\r\n          <h3>Add Stock</h3>\r\n        </template>\r\n        <template #body>\r\n          <form @submit.prevent=\"addStock\">\r\n            <input v-model=\"newStockAmount\" type=\"number\" min=\"1\" required />\r\n            <button type=\"submit\">Add Stock</button>\r\n          </form>\r\n        </template>\r\n      </Modal>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import Sidebar from '@/components/Sidebar.vue';\r\n  import Modal from '@/components/Modal.vue';\r\n  import { ref, onMounted } from 'vue';\r\n  \r\n  export default {\r\n    components: { Sidebar, Modal },\r\n    setup() {\r\n      const ingredients = ref([]);\r\n      const showAddIngredientModal = ref(false);\r\n      const showEditIngredientModal = ref(false);\r\n      const showAddStockModal = ref(false);\r\n      const newIngredientName = ref('');\r\n      const editedIngredient = ref({});\r\n      const newStockAmount = ref(0);\r\n  \r\n      const fetchIngredients = async () => {\r\n        try {\r\n          const response = await fetch('/api/ingredients');\r\n          const data = await response.json();\r\n          ingredients.value = data;\r\n        } catch (error) {\r\n          console.error('Error fetching ingredients:', error);\r\n        }\r\n      };\r\n  \r\n      const addIngredient = async () => {\r\n        try {\r\n          await fetch('/api/ingredients', {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ name: newIngredientName.value }),\r\n          });\r\n          newIngredientName.value = '';\r\n          showAddIngredientModal.value = false;\r\n          fetchIngredients();\r\n        } catch (error) {\r\n          console.error('Error adding ingredient:', error);\r\n        }\r\n      };\r\n  \r\n      const editIngredient = async () => {\r\n        try {\r\n          await fetch(`/api/ingredients/${editedIngredient.value.id}`, {\r\n            method: 'PUT',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ name: editedIngredient.value.name }),\r\n          });\r\n          showEditIngredientModal.value = false;\r\n          fetchIngredients();\r\n        } catch (error) {\r\n          console.error('Error editing ingredient:', error);\r\n        }\r\n      };\r\n  \r\n      const addStock = async () => {\r\n        try {\r\n          await fetch(`/api/ingredients/${editedIngredient.value.id}/stock`, {\r\n            method: 'PUT',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ amount: newStockAmount.value }),\r\n          });\r\n          newStockAmount.value = 0;\r\n          showAddStockModal.value = false;\r\n          fetchIngredients();\r\n        } catch (error) {\r\n          console.error('Error adding stock:', error);\r\n        }\r\n      };\r\n  \r\n      const showEditIngredientModal = (ingredient) => {\r\n        editedIngredient.value = { ...ingredient };\r\n        showEditIngredientModal.value = true;\r\n      };\r\n  \r\n      const showAddStockModal = (ingredient) => {\r\n        editedIngredient.value = { ...ingredient };\r\n        showAddStockModal.value = true;\r\n      };\r\n  \r\n      onMounted(() => {\r\n        fetchIngredients();\r\n      });\r\n  \r\n      return {\r\n        ingredients,\r\n        showAddIngredientModal,\r\n        showEditIngredientModal,\r\n        showAddStockModal,\r\n        newIngredientName,\r\n        editedIngredient,\r\n        newStockAmount,\r\n        addIngredient,\r\n        editIngredient,\r\n        addStock,\r\n        showEditIngredientModal,\r\n        showAddStockModal,\r\n      };\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .container {\r\n    display: flex;\r\n  }\r\n  .content {\r\n    flex-grow: 1;\r\n    margin-left: 260px;\r\n  }\r\n  .header {\r\n    background-color: #e0e0e0;\r\n    padding: 20px;\r\n  }\r\n  .title {\r\n    margin: 0;\r\n    font-size: 24px;\r\n  }\r\n  .add-btn {\r\n    padding: 10px;\r\n    background-color: #4caf50;\r\n    color: white;\r\n    border: none;\r\n    cursor: pointer;\r\n  }\r\n  .ingredient-list table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n  }\r\n  .ingredient-list th,\r\n  .ingredient-list td {\r\n    padding: 10px;\r\n    text-align: left;\r\n  }\r\n  .ingredient-list th {\r\n    background-color: #f2f2f2;\r\n  }\r\n  button {\r\n    padding: 5px 10px;\r\n    background-color: #4caf50;\r\n    color: white;\r\n    border: none;\r\n    cursor: pointer;\r\n  }\r\n  button:hover {\r\n    background-color: #45a049;\r\n  }\r\n  </style>\r\n  "],"mappings":";;EAIWA,KAAK,EAAC,WAAW;EAACC,KAAsB,EAAtB;IAAA;EAAA;;;EAChBD,KAAK,EAAC,SAAS;EAACC,KAAyC,EAAzC;IAAA;IAAA;EAAA;;;EACdD,KAAK,EAAC,QAAQ;EAACC,KAAiD,EAAjD;IAAA;IAAA;EAAA;;;EAKfD,KAAK,EAAC;AAAiB;mBAXtC;mBAAA;;;;uBACIE,mBAAA,CAwEM,cAvEJC,YAAA,CAAWC,kBAAA,GAEXC,mBAAA,CA6BM,OA7BNC,UA6BM,GA5BJD,mBAAA,CA2BM,OA3BNE,UA2BM,GA1BJF,mBAAA,CAGM,OAHNG,UAGM,G,4BAFJH,mBAAA,CAAkC;IAA9BL,KAAK,EAAC;EAAO,GAAC,aAAW,sBAC7BK,mBAAA,CAAsF;IAA7EI,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,IAAA,CAAAC,sBAAsB;IAASb,KAAK,EAAC;KAAU,gBAAc,E,GAG/EK,mBAAA,CAoBM,OApBNS,UAoBM,GAnBJT,mBAAA,CAkBQ,gB,4BAjBNA,mBAAA,CAMQ,gBALNA,mBAAA,CAIK,aAHHA,mBAAA,CAAwB,YAApB,iBAAe,GACnBA,mBAAA,CAAc,YAAV,OAAK,GACTA,mBAAA,CAAgB,YAAZ,SAAO,E,wBAGfA,mBAAA,CASQ,iB,kBARNH,mBAAA,CAOKa,SAAA,QA5BrBC,WAAA,CAqByCJ,IAAA,CAAAK,WAAW,EAAzBC,UAAU;yBAArBhB,mBAAA,CAOK;MAPkCiB,GAAG,EAAED,UAAU,CAACE;QACrDf,mBAAA,CAA8B,YAAAgB,gBAAA,CAAvBH,UAAU,CAACI,IAAI,kBACtBjB,mBAAA,CAA+B,YAAAgB,gBAAA,CAAxBH,UAAU,CAACK,KAAK,kBACvBlB,mBAAA,CAGK,aAFHA,mBAAA,CAAkE;MAAzDI,OAAK,EAAAE,MAAA,IAAEC,IAAA,CAAAY,uBAAuB,CAACN,UAAU;OAAG,MAAI,iBAzB7EO,UAAA,GA0BoBpB,mBAAA,CAAiE;MAAxDI,OAAK,EAAAE,MAAA,IAAEC,IAAA,CAAAc,iBAAiB,CAACR,UAAU;OAAG,WAAS,iBA1B5ES,UAAA,E;4CAmCMC,mBAAA,0BAA6B,EAChBhB,IAAA,CAAAC,sBAAsB,I,cAAnCgB,YAAA,CAUQC,gBAAA;IA9CdX,GAAA;IAoC4CY,OAAK,EAAArB,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,IAAA,CAAAC,sBAAsB;;IACtDmB,MAAM,EAAAC,QAAA,CACf,MAAuBvB,MAAA,SAAAA,MAAA,QAAvBL,mBAAA,CAAuB,YAAnB,gBAAc,oB;IAET6B,IAAI,EAAAD,QAAA,CACb,MAGO,CAHP5B,mBAAA,CAGO;MAHA8B,QAAM,EAAAzB,MAAA,QAAAA,MAAA,MAzCvB0B,cAAA,KAAAC,IAAA,KAyCiCzB,IAAA,CAAA0B,aAAA,IAAA1B,IAAA,CAAA0B,aAAA,IAAAD,IAAA,CAAa;wBAClChC,mBAAA,CAAwF;MA1CpG,uBAAAK,MAAA,QAAAA,MAAA,MAAAC,MAAA,IA0C4BC,IAAA,CAAA2B,iBAAiB,GAAA5B,MAAA;MAAE6B,IAAI,EAAC,MAAM;MAACC,WAAW,EAAC,iBAAiB;MAACC,QAAQ,EAAR;mDAA7D9B,IAAA,CAAA2B,iBAAiB,E,+BACjClC,mBAAA,CAA6C;MAArCmC,IAAI,EAAC;IAAQ,GAAC,gBAAc,qB;IA3ChDG,CAAA;QAAAf,mBAAA,gBAgDMA,mBAAA,2BAA8B,EACjBhB,IAAA,CAAAY,uBAAuB,I,cAApCK,YAAA,CAUQC,gBAAA;IA3DdX,GAAA;IAiD6CY,OAAK,EAAArB,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,IAAA,CAAAY,uBAAuB;;IACxDQ,MAAM,EAAAC,QAAA,CACf,MAAwBvB,MAAA,SAAAA,MAAA,QAAxBL,mBAAA,CAAwB,YAApB,iBAAe,oB;IAEV6B,IAAI,EAAAD,QAAA,CACb,MAGO,CAHP5B,mBAAA,CAGO;MAHA8B,QAAM,EAAAzB,MAAA,QAAAA,MAAA,MAtDvB0B,cAAA,KAAAC,IAAA,KAsDiCzB,IAAA,CAAAgC,cAAA,IAAAhC,IAAA,CAAAgC,cAAA,IAAAP,IAAA,CAAc;wBACnChC,mBAAA,CAA8D;MAvD1E,uBAAAK,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAuD4BC,IAAA,CAAAiC,gBAAgB,CAACvB,IAAI,GAAAX,MAAA;MAAE6B,IAAI,EAAC,MAAM;MAACE,QAAQ,EAAR;mDAAnC9B,IAAA,CAAAiC,gBAAgB,CAACvB,IAAI,E,+BACrCjB,mBAAA,CAAmC;MAA3BmC,IAAI,EAAC;IAAQ,GAAC,MAAI,qB;IAxDtCG,CAAA;QAAAf,mBAAA,gBA6DMA,mBAAA,qBAAwB,EACXhB,IAAA,CAAAc,iBAAiB,I,cAA9BG,YAAA,CAUQC,gBAAA;IAxEdX,GAAA;IA8DuCY,OAAK,EAAArB,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,IAAA,CAAAc,iBAAiB;;IAC5CM,MAAM,EAAAC,QAAA,CACf,MAAkBvB,MAAA,SAAAA,MAAA,QAAlBL,mBAAA,CAAkB,YAAd,WAAS,oB;IAEJ6B,IAAI,EAAAD,QAAA,CACb,MAGO,CAHP5B,mBAAA,CAGO;MAHA8B,QAAM,EAAAzB,MAAA,QAAAA,MAAA,MAnEvB0B,cAAA,KAAAC,IAAA,KAmEiCzB,IAAA,CAAAkC,QAAA,IAAAlC,IAAA,CAAAkC,QAAA,IAAAT,IAAA,CAAQ;wBAC7BhC,mBAAA,CAAiE;MApE7E,uBAAAK,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAoE4BC,IAAA,CAAAmC,cAAc,GAAApC,MAAA;MAAE6B,IAAI,EAAC,QAAQ;MAACQ,GAAG,EAAC,GAAG;MAACN,QAAQ,EAAR;mDAAtC9B,IAAA,CAAAmC,cAAc,E,+BAC9B1C,mBAAA,CAAwC;MAAhCmC,IAAI,EAAC;IAAQ,GAAC,WAAS,qB;IArE3CG,CAAA;QAAAf,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}