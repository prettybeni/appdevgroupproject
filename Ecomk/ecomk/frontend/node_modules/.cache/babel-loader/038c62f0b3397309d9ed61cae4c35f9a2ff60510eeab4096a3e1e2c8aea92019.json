{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"view-products\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"error\"\n};\nconst _hoisted_4 = {\n  key: 2,\n  class: \"products-list\"\n};\nconst _hoisted_5 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_cache[1] || (_cache[1] = _createElementVNode(\"h1\", null, \"Products\", -1 /* HOISTED */)), _createCommentVNode(\" Loading state \"), $data.isLoading ? (_openBlock(), _createElementBlock(\"p\", _hoisted_2, \"Loading products...\")) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Error message \"), $data.errorMessage ? (_openBlock(), _createElementBlock(\"p\", _hoisted_3, _toDisplayString($data.errorMessage), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Products List \"), $data.products.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.products, product => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: product.id,\n      class: \"product-item\"\n    }, [_createElementVNode(\"img\", {\n      src: product.image_url,\n      alt: \"Product Image\",\n      class: \"product-image\"\n    }, null, 8 /* PROPS */, _hoisted_5), _createElementVNode(\"h2\", null, _toDisplayString(product.name), 1 /* TEXT */), _createElementVNode(\"p\", null, \"Price: $\" + _toDisplayString(product.price), 1 /* TEXT */), _createElementVNode(\"p\", null, \"Category: \" + _toDisplayString(product.category), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])) : !$data.isLoading && $data.products.length === 0 ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 3\n  }, [_createCommentVNode(\" No products message \"), _cache[0] || (_cache[0] = _createElementVNode(\"p\", null, \"No products available.\", -1 /* HOISTED */))], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)]), _cache[2] || (_cache[2] = _createElementVNode(\"table\", {\n    border: \"1\"\n  }, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Image\"), _createElementVNode(\"th\", null, \"Product Name\"), _createElementVNode(\"th\", null, \"Price\"), _createElementVNode(\"th\", null, \"Category\"), _createElementVNode(\"th\", null, \"Stock\")]), _createElementVNode(\"tr\", null, [_createElementVNode(\"td\"), _createElementVNode(\"td\"), _createElementVNode(\"td\"), _createElementVNode(\"td\"), _createElementVNode(\"td\")])], -1 /* HOISTED */))], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_Fragment","_createElementVNode","_hoisted_1","_createCommentVNode","$data","isLoading","_hoisted_2","errorMessage","_hoisted_3","_toDisplayString","products","length","_hoisted_4","_renderList","product","id","src","image_url","alt","_hoisted_5","name","price","category","border"],"sources":["C:\\Users\\norma\\project\\ecomk\\frontend\\src\\views\\Manage.vue"],"sourcesContent":["<template>\r\n  <div class=\"view-products\">\r\n    <h1>Products</h1>\r\n\r\n    <!-- Loading state -->\r\n    <p v-if=\"isLoading\">Loading products...</p>\r\n\r\n    <!-- Error message -->\r\n    <p v-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\r\n\r\n    <!-- Products List -->\r\n    <div v-if=\"products.length > 0\" class=\"products-list\">\r\n      <div v-for=\"product in products\" :key=\"product.id\" class=\"product-item\">\r\n        <img :src=\"product.image_url\" alt=\"Product Image\" class=\"product-image\" />\r\n        <h2>{{ product.name }}</h2>\r\n        <p>Price: ${{ product.price }}</p>\r\n        <p>Category: {{ product.category }}</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- No products message -->\r\n    <p v-else-if=\"!isLoading && products.length === 0\">No products available.</p>\r\n  </div>\r\n\r\n  <table border=\"1\">\r\n      <tr>\r\n          <th>Image</th>\r\n          <th>Product Name</th>\r\n          <th>Price</th>\r\n          <th>Category</th>\r\n          <th>Stock</th>\r\n      </tr>\r\n      <tr>\r\n          <td></td>\r\n          <td></td>\r\n          <td></td>\r\n          <td></td>\r\n          <td></td>\r\n      </tr>\r\n  </table>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      products: [], // List of products\r\n      isLoading: true, // Loading state\r\n      errorMessage: '', // Error message\r\n    };\r\n  },\r\n  async getProducts() {\r\n  try {\r\n    const response = await axios.get('http://localhost:5000/api/admin/products', {\r\n      headers: {\r\n        'Cache-Control': 'no-cache', // Prevent caching\r\n        'Pragma': 'no-cache',\r\n        'Expires': 0\r\n      }\r\n    });\r\n    this.products = response.data;\r\n  } catch (error) {\r\n    console.error('Error fetching products:', error);\r\n    this.errorMessage = 'Failed to load products. Please try again later.';\r\n  } finally {\r\n    this.isLoading = false;\r\n  }\r\n},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.view-products {\r\n  padding: 20px;\r\n}\r\n\r\n.products-list {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\r\n  gap: 20px;\r\n}\r\n\r\n.product-item {\r\n  border: 1px solid #ccc;\r\n  padding: 15px;\r\n  text-align: center;\r\n  border-radius: 5px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.product-image {\r\n  width: 100%;\r\n  height: auto;\r\n  max-height: 150px;\r\n  object-fit: cover;\r\n  border-radius: 5px;\r\n}\r\n\r\n.error {\r\n  color: red;\r\n}\r\n</style>\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAAe;;EAD5BC,GAAA;AAAA;;EAAAA,GAAA;EAQ2BD,KAAK,EAAC;;;EARjCC,GAAA;EAWoCD,KAAK,EAAC;;mBAX1C;;uBAAAE,mBAAA,CAAAC,SAAA,SACEC,mBAAA,CAqBM,OArBNC,UAqBM,G,0BApBJD,mBAAA,CAAiB,YAAb,UAAQ,sBAEZE,mBAAA,mBAAsB,EACbC,KAAA,CAAAC,SAAS,I,cAAlBN,mBAAA,CAA2C,KAL/CO,UAAA,EAKwB,qBAAmB,KAL3CH,mBAAA,gBAOIA,mBAAA,mBAAsB,EACbC,KAAA,CAAAG,YAAY,I,cAArBR,mBAAA,CAA2D,KAA3DS,UAA2D,EAAAC,gBAAA,CAAnBL,KAAA,CAAAG,YAAY,oBARxDJ,mBAAA,gBAUIA,mBAAA,mBAAsB,EACXC,KAAA,CAAAM,QAAQ,CAACC,MAAM,Q,cAA1BZ,mBAAA,CAOM,OAPNa,UAOM,I,kBANJb,mBAAA,CAKMC,SAAA,QAjBZa,WAAA,CAY6BT,KAAA,CAAAM,QAAQ,EAAnBI,OAAO;yBAAnBf,mBAAA,CAKM;MAL4BD,GAAG,EAAEgB,OAAO,CAACC,EAAE;MAAElB,KAAK,EAAC;QACvDI,mBAAA,CAA0E;MAApEe,GAAG,EAAEF,OAAO,CAACG,SAAS;MAAEC,GAAG,EAAC,eAAe;MAACrB,KAAK,EAAC;4BAbhEsB,UAAA,GAcQlB,mBAAA,CAA2B,YAAAQ,gBAAA,CAApBK,OAAO,CAACM,IAAI,kBACnBnB,mBAAA,CAAkC,WAA/B,UAAQ,GAAAQ,gBAAA,CAAGK,OAAO,CAACO,KAAK,kBAC3BpB,mBAAA,CAAuC,WAApC,YAAU,GAAAQ,gBAAA,CAAGK,OAAO,CAACQ,QAAQ,iB;uCAKrBlB,KAAA,CAAAC,SAAS,IAAID,KAAA,CAAAM,QAAQ,CAACC,MAAM,U,cAA3CZ,mBAAA,CAA6EC,SAAA;IArBjFF,GAAA;EAAA,IAoBIK,mBAAA,yBAA4B,E,0BAC5BF,mBAAA,CAA6E,WAA1B,wBAAsB,qB,oDArB7EE,mBAAA,e,6BAwBEF,mBAAA,CAeQ;IAfDsB,MAAM,EAAC;EAAG,IACbtB,mBAAA,CAMK,aALDA,mBAAA,CAAc,YAAV,OAAK,GACTA,mBAAA,CAAqB,YAAjB,cAAY,GAChBA,mBAAA,CAAc,YAAV,OAAK,GACTA,mBAAA,CAAiB,YAAb,UAAQ,GACZA,mBAAA,CAAc,YAAV,OAAK,E,GAEbA,mBAAA,CAMK,aALDA,mBAAA,CAAS,OACTA,mBAAA,CAAS,OACTA,mBAAA,CAAS,OACTA,mBAAA,CAAS,OACTA,mBAAA,CAAS,M","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}